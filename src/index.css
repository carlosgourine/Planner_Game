@import "tailwindcss";

@layer base {
  body {
    font-family: 'Press Start 2P', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  }
}

@layer utilities {
  .glass-panel {
    @apply bg-black/40 backdrop-blur-md border border-white/10 shadow-xl;
  }

  .text-shadow {
    text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.8);
  }

  .text-shadow-lg {
    text-shadow: 4px 4px 0px rgba(0, 0, 0, 1);
  }

  .bg-urban-tundra {
    background: linear-gradient(180deg, #020617 0%, #1e1b4b 40%, #172554 100%);
    position: relative;
  }

  /* Cyberpunk Grid Floor */
  .bg-grid-floor {
    background-image:
      linear-gradient(to right, rgba(0, 255, 255, 0.1) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(0, 255, 255, 0.1) 1px, transparent 1px);
    background-size: 40px 40px;
    transform: perspective(500px) rotateX(60deg);
    transform-origin: bottom;
  }
}

/* Animations */
@keyframes shake {

  0%,
  100% {
    transform: translateX(0);
  }

  25% {
    transform: translateX(-5px);
  }

  75% {
    transform: translateX(5px);
  }
}

.animate-shake {
  animation: shake 0.5s ease-in-out;
}

@keyframes glitch {
  0% {
    transform: translate(0);
  }

  20% {
    transform: translate(-2px, 2px);
  }

  40% {
    transform: translate(-2px, -2px);
  }

  60% {
    transform: translate(2px, 2px);
  }

  80% {
    transform: translate(2px, -2px);
  }

  100% {
    transform: translate(0);
  }
}

/* =========================================
   PIXEL ART ANIMATION ENGINE
   ========================================= */

/* The master keyframe that moves a sprite sheet from start to finish */
@keyframes play-sprite {
  to {
    background-position: 100% 0;
  }
}

/* --- COWBOY --- */
.animate-cowboy-idle {
  background-image: url('/cowboybreathing.png');
  background-size: 400% 100%;
  /* 4 frames */
  /* 0.8s duration, 3 steps between 4 frames, loop forever */
  animation: play-sprite 0.8s steps(3) infinite;
}

.animate-cowboy-attack {
  background-image: url('/cowboyfightreal.png');
  background-size: 600% 100%;
  /* 6 frames */
  /* 0.4s duration (snappy!), 5 steps, stop at the end */
  animation: play-sprite 0.4s steps(5) forwards;
}

/* --- WOLF --- */
.animate-wolf-idle {
  background-image: url('/wolfbreathing.png');
  background-size: 400% 100%;
  /* 4 frames */
  animation: play-sprite 0.8s steps(3) infinite;
}

.animate-wolf-hurt {
  background-image: url('/wolfhurt.png');
  background-size: 300% 100%;
  /* 3 frames */
  /* 0.3s duration (very fast impact), 2 steps, stop at end */
  animation: play-sprite 0.3s steps(2) forwards;
  /* Adds a yellow/orange hit flash effect */
  filter: sepia(1) hue-rotate(-50deg) saturate(3) brightness(1.2);
}