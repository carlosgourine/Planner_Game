@import "tailwindcss";

@layer base {
  body {
    font-family: 'Press Start 2P', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  }
}

@layer utilities {
  .glass-panel {
    @apply bg-black/40 backdrop-blur-md border border-white/10 shadow-xl;
  }

  .text-shadow {
    text-shadow: 2px 2px 0px rgba(0, 0, 0, 0.8);
  }

  .text-shadow-lg {
    text-shadow: 4px 4px 0px rgba(0, 0, 0, 1);
  }

  .bg-urban-tundra {
    background: linear-gradient(180deg, #020617 0%, #1e1b4b 40%, #172554 100%);
    position: relative;
  }

  /* Cyberpunk Grid Floor */
  .bg-grid-floor {
    background-image:
      linear-gradient(to right, rgba(0, 255, 255, 0.1) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(0, 255, 255, 0.1) 1px, transparent 1px);
    background-size: 40px 40px;
    transform: perspective(500px) rotateX(60deg);
    transform-origin: bottom;
  }
}

/* Animations */
@keyframes shake {

  0%,
  100% {
    transform: translateX(0);
  }

  25% {
    transform: translateX(-5px);
  }

  75% {
    transform: translateX(5px);
  }
}

.animate-shake {
  animation: shake 0.5s ease-in-out;
}

@keyframes glitch {
  0% {
    transform: translate(0);
  }

  20% {
    transform: translate(-2px, 2px);
  }

  40% {
    transform: translate(-2px, -2px);
  }

  60% {
    transform: translate(2px, 2px);
  }

  80% {
    transform: translate(2px, -2px);
  }

  100% {
    transform: translate(0);
  }
}

/* --- COWBOY ANIMATIONS --- */
.animate-cowboy-idle {
  background-image: url('/cowboybreathing.png');
  background-size: 400% 100%;
  animation: play-cowboy-idle 0.8s steps(4) infinite;
}

.animate-cowboy-attack {
  background-image: url('/cowboyfightingbetter.png');
  background-size: 600% 100%;
  animation: play-cowboy-attack 0.6s steps(6) forwards;
}

/* --- WOLF ANIMATIONS --- */
.animate-wolf-idle {
  background-image: url('/wolfbreathing.png');
  background-size: 400% 100%;
  animation: play-wolf-idle 0.8s steps(4) infinite;
}

.animate-wolf-hurt {
  background-image: url('/wolfhurt.png');
  background-size: 300% 100%;
  animation: play-wolf-hurt 0.3s steps(3) forwards;
  filter: sepia(1) hue-rotate(-50deg) saturate(3) brightness(1.2);
}

/* --- KEYFRAMES --- */
@keyframes play-cowboy-idle {
  100% {
    background-position: -400%;
  }
}

@keyframes play-cowboy-attack {
  100% {
    background-position: -600%;
  }
}

@keyframes play-wolf-idle {
  100% {
    background-position: -400%;
  }
}

@keyframes play-wolf-hurt {
  100% {
    background-position: -300%;
  }
}

/* --- SPRITE ANIMATIONS --- */
@keyframes slide-frames {
  to {
    transform: translateX(-100%);
  }
}

.animate-sprite-4 {
  animation: slide-frames 0.8s steps(4) infinite;
}

.animate-sprite-6 {
  /* 'forwards' ensures he stops on the last frame instead of looping back to the start */
  animation: slide-frames 0.6s steps(6) forwards;
}

.animate-sprite-3 {
  animation: slide-frames 0.4s steps(3) forwards;
  /* Adds a reddish/yellow damage flash to the wolf */
  filter: sepia(1) hue-rotate(-50deg) saturate(3) brightness(1.2);
}